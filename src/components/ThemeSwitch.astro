---

---

<button type="button" id="theme-selector">
    <span class="sr-only">
        Enable
        <span class="hidden dark:inline">light</span>
        <span class="dark:hidden">dark</span> mode
    </span>
    <div
        class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 dark:hidden flex justify-center items-center">
        <svg
            class="dark:hidden"
            xmlns="http://www.w3.org/2000/svg"
            width="1em"
            height="1em"
            viewBox="0 0 24 24">
            <path
                fill="currentColor"
                d="M12.058 20q-3.334 0-5.667-2.333T4.058 12q0-3.039 1.98-5.27t4.904-2.634q.081 0 .159.006t.153.017q-.506.706-.801 1.57T10.158 7.5q0 2.667 1.866 4.533t4.534 1.867q.951 0 1.813-.295t1.548-.801q.012.075.017.153t.006.159q-.384 2.923-2.615 4.903T12.057 20m0-1q2.2 0 3.95-1.213t2.55-3.162q-.5.125-1 .2t-1 .075q-3.074 0-5.237-2.162T9.158 7.5q0-.5.075-1t.2-1q-1.95.8-3.163 2.55T5.058 12q0 2.9 2.05 4.95t4.95 2.05m-.25-6.75"
            ></path>
        </svg>
    </div>
    <div
        class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hidden dark:flex justify-center items-center">
        <svg
            class="hidden dark:inline"
            xmlns="http://www.w3.org/2000/svg"
            width="1em"
            height="1em"
            viewBox="0 0 20 20">
            <path
                fill="currentColor"
                d="M19 9.199h-.98c-.553 0-1 .359-1 .801c0 .441.447.799 1 .799H19c.552 0 1-.357 1-.799c0-.441-.449-.801-1-.801M10 4.5A5.483 5.483 0 0 0 4.5 10c0 3.051 2.449 5.5 5.5 5.5c3.05 0 5.5-2.449 5.5-5.5S13.049 4.5 10 4.5m0 9.5c-2.211 0-4-1.791-4-4c0-2.211 1.789-4 4-4a4 4 0 0 1 0 8m-7-4c0-.441-.449-.801-1-.801H1c-.553 0-1 .359-1 .801c0 .441.447.799 1 .799h1c.551 0 1-.358 1-.799m7-7c.441 0 .799-.447.799-1V1c0-.553-.358-1-.799-1s-.801.447-.801 1v1c0 .553.359 1 .801 1m0 14c-.442 0-.801.447-.801 1v1c0 .553.359 1 .801 1c.441 0 .799-.447.799-1v-1c0-.553-.358-1-.799-1m7.365-13.234c.391-.391.454-.961.142-1.273s-.883-.248-1.272.143l-.7.699c-.391.391-.454.961-.142 1.273s.883.248 1.273-.143zM3.334 15.533l-.7.701c-.391.391-.454.959-.142 1.271s.883.25 1.272-.141l.7-.699c.391-.391.454-.961.142-1.274s-.883-.247-1.272.142m.431-12.898c-.39-.391-.961-.455-1.273-.143s-.248.883.141 1.274l.7.699c.391.391.96.455 1.272.143s.249-.883-.141-1.273zm11.769 14.031l.7.699c.391.391.96.453 1.272.143c.312-.312.249-.883-.142-1.273l-.699-.699c-.391-.391-.961-.455-1.274-.143s-.248.882.143 1.273"
            ></path>
        </svg>
    </div>

    <script>
        // Set the theme based on localStorage
        const applyTheme = () => {
            const savedTheme = localStorage.getItem("theme");
            if (savedTheme === "dark") {
                document.documentElement.classList.add("dark");
            } else if (savedTheme === "light") {
                document.documentElement.classList.remove("dark");
            }
        };

        // Function to initialize the theme
        const initializeTheme = () => {
            applyTheme();

            document
                .getElementById("theme-selector")
                ?.addEventListener("click", () => {
                    if (localStorage.theme === "dark") {
                        localStorage.theme = "light";
                        document.documentElement.classList.remove("dark");
                    } else {
                        localStorage.theme = "dark";
                        document.documentElement.classList.add("dark");
                    }
                });
        };

        // Apply the theme when the DOM is fully loaded
        document.addEventListener("DOMContentLoaded", () => {
            initializeTheme();
        });

        document.addEventListener("astro:after-swap", initializeTheme);
    </script>
</button>
